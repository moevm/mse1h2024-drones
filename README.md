# mse1h2024-drones

## Итерация 1

### Подробная постановка задачи

Проект используется для демонстрации возможностей кафедры. На полигоне есть робот-тележка с прикрепленным на его спину qr кодом. Код решения предварительно скачан с github. При помощи единственной команды этот код запущен. Решение управляет полетом дрона Tello. У пользователя есть возможность отдать 4 команды: начать демонстрацию, закончить демонстрацию, посмотреть на то что видит камера дрона, аварийная остановка. Во время демонстрации дрон поднимается в воздух, направляет камеру на qr код и стремиться видеть qr код в течение всей демонстрации.

### Собранные и проанализированные требования

- (Задача минимум) Определить начальные условия, при которых работает решение.
- (Задача минимум) Дрон следит за qr кодом хотя бы как-нибудь.
- (Задача минимум) Решение работает на каком-нибудь симуляторе.
- (Уже устроит) Движение дрона управляется PID-регулятором.
- (Уже устроит) Дрон должен всегда видеть qr код, после того, как увидел его в первый раз.
- (Максимум) Решение одинаково хорошо работает как на симуляторе, так и на реальном дроне.

### Сценарий использования

1. Пользователь загружает код созданного решения.
1. Пользователь располагает робота-тележку с наклеенным на него qr кодом и дрона так, как описано в начальных условиях.
1. Пользователь запускает решение.
1. Пользователь нажимает на кнопку *начать демонстрацию*.
1. Дрон располагается в воздухе так, чтобы видеть qr код.
1. Робот-тележка начинает двигаться по полигону.
1. Дрон меняет свое положение таким образом, чтобы всегда видеть qr код.
1. Пользователь нажимает на кнопку *закончить демонстрацию*.
1. Дрон приземляется.

### Макет UI

![ui](./wiki/res/ui.png)

## Итерация 2

Краткие итоги итерации, а также запуск разработанных модулей можно посмотреть в [этой презентации](https://docs.google.com/presentation/d/1g4CraNyjlNUETKBx5BtqfE9UQ0ZSlPZNQNM59yCeuUo/edit?usp=sharing).

### Инструкции по запуску модулей

Для запуска любого модуля потребуется установить python версии 3.10.12. Все последующие инструкции будут приведены для Ubuntu.

#### Графический интерфейс

См. папку `gui`.

Для запуска

1. разрешить зависимости: `$ pip install -r requirements.txt`;
1. прописать зависимость к модулю ROS `$ source /opt/ros/iron/setup.bash`;
1. запустить скрипт: `$ python gui.py`.

#### PID регулятор

См. папку `pid_controller`.

Для запуска

1. разрешить зависимости: `$ pip install -r requirements.txt`;
1. запустить тесты: `$ python pid_tests.py`;
1. отрисовать график сигнала регулятора: `$ python pid_controller.py`.

#### Минимальный пример

См. [инструкцию](./wiki/minimal-example.md).
